<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4.1: http://docutils.sourceforge.net/" />
<title>Specification of content rating data</title>
<meta content="Ratings" name="navigation.name" />
<meta content="0" name="navigation.visible" />
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
*/


body {
    font-family: Verdana, Helvetica, Arial, sans-serif;
    background: #fff7ee;/*#f7ebd3;*//*fdf9f4*/
    margin: 0;
    padding: 0;
}

img {
  border: 0;
}

.first {
  margin-top: 0 }

.last {
  margin-bottom: 0 }

a {
    color: #222222;
}

a:hover {
    color: black;
}

a.toc-backref {
  text-decoration: none ;
  color: black;
}

div.document {
    margin-left: 2em;
    width:680px;
    overflow: visible;
}

blockquote.epigraph {
  margin: 2em 5em ; }

dd {
  margin-bottom: 0.5em }

div.abstract {
  margin: 2em 5em;
}

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning, div.admonition {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

div.hint p.admonition-title, div.important p.admonition-title,
div.note p.admonition-title, div.tip p.admonition-title,
div.admonition p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em }

div.footer, div.header {
    font-size: smaller;
    margin-left: 2em;
    margin-bottom: 1em;
}

hr.footer {
    width: 680px;
    margin-left: 2em;
}

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 0em 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr {
  width: 75% }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.line-block {
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

table {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.citation {
  border-left: solid thin gray ;
  padding-left: 0.5ex }

table.docinfo {
  margin: 2em 4em }

table.footnote {
  border-left: solid thin black ;
  padding-left: 0.5ex }

td, th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

th.docinfo-name, th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap }

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100% }

tt {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

.align-right {
  padding: 2px;
}

</style>
<link rel="shortcut icon" type="image/x-icon" href="../favicon.png" />
<link rel="stylesheet" href="../navigation.css" type="text/css" />
<script type="text/javascript">
<!--
window.onload = function() {
  if (top.location != location) {
    top.location.href = document.location.href;
  }
}
// -->
</script>
</head>
<body>
<!-- bfknav -->
<div class="navigation">
<div class="navrow" style="padding: 0em 0em 0em 1em;">
<a href="../index.html">WebCleaner</a>
<a href="../faq.html">FAQ</a>
<a href="../install.html">Installation</a>
<a href="../misc/squid.html">Example Squid configuration &gt;</a>
<span>Ratings &gt;</span>
</div>
<div class="navrow" style="padding: 0em 0em 0em 2em;"><span>Ratings</span>
<a href="../devel/devel.html">Development</a>
<a href="../devel/sslgateway.html">SSL Gateway</a>

</div>
</div>
<!-- /bfknav -->
<div class="document" id="specification-of-content-rating-data">
<h1 class="title">Specification of content rating data</h1>
<p>This document defines the data and mechanisms used to
rate internet pages. This can be used to enable surfing
sessions that are limited to specified contents, and is
especially useful for allowing children to experience the
web in a safe manner.</p>
<p>Unless otherwise noted, character data is assumed to be in Unicode.</p>
<div class="section">
<h1><a id="rating" name="rating">Rating</a></h1>
<p>A rating is a dictionary filled with name/value items.
Each name/value item is an instance of a defined rating format.</p>
</div>
<div class="section">
<h1><a id="rating-format" name="rating-format">Rating format</a></h1>
<p>A rating format defines a unique, case insensitive name, and a range
of valid values along with their interpretation.</p>
<p>A given interpretation allows comparing two ratings against each other,
to test if one exceeds the other. Comparisons are used to decide wether
to allow a rated page or not.</p>
</div>
<div class="section">
<h1><a id="url-rating" name="url-rating">URL rating</a></h1>
<p>A URL rating relates a rating to one or more URLs. It consists of
a rating, an URL and an optional generic flag specifying that all
URLs with the given URL as base path apply to the rating.
It also has an optional comment explaining the rating.</p>
</div>
<div class="section">
<h1><a id="rating-service" name="rating-service">Rating service</a></h1>
<p>A rating service defines a unique name and the (sub-)set of supported
rating formats. The service name should be an URL with human-viewable
information about the service.</p>
<p>The service should store and/or deliver URL ratings of the formats it
defines.</p>
<p>Several recommended storage and delivery methods are explained below,
however they are not mandatory.</p>
</div>
<div class="section">
<h1><a id="service-delivery" name="service-delivery">Service delivery</a></h1>
<p>Several different rating delivery methods are defined.
They allow content providers flexibility when providing rating data.
Since rating data is in Unicode, it must be encoded if the delivery
method does not support Unicode.</p>
<div class="section">
<h2><a id="http-header" name="http-header">HTTP Header</a></h2>
<p>When answering a HTTP request, rating data can be submitted as
HTTP headers. All headers start with <tt class="docutils literal"><span class="pre">X-Rating</span></tt> and are defined
as follows:</p>
<ul>
<li><dl class="first docutils">
<dt>X-Rating: &lt;service URL&gt;</dt>
<dd><p class="first last">submits the service this rating applies to</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>X-Rating-&lt;name&gt;: &lt;value&gt;</dt>
<dd><p class="first last">submits one name/value item of the rating dictionary</p>
</dd>
</dl>
</li>
</ul>
<p>HTTP header names are defined case insensitive. This is the reason
why rating names, which are used as part of HTTP header names, are
also defined case insensitive.</p>
<p>The order in which headers are sent does not matter. No duplicate
<tt class="docutils literal"><span class="pre">X-Rating</span></tt> headers are allowed, but a <tt class="docutils literal"><span class="pre">X-Rating-XYZ</span></tt> header
can occur multiple times, in which case it is service dependent on
how to interpret the multiple values.</p>
</div>
<div class="section">
<h2><a id="html-meta-data" name="html-meta-data">HTML meta data</a></h2>
<p>A HTML file can be rated by supplying data in a meta tag.
The format is basically the same as the HTTP header format,
using <tt class="docutils literal"><span class="pre">X-Rating</span></tt> in the name attribute and the value in the
content attribute.</p>
</div>
</div>
<div class="section">
<h1><a id="service-storage" name="service-storage">Service storage</a></h1>
<p>There are several things to consider when storing URL ratings for
a service.</p>
<div class="section">
<h2><a id="character-encoding" name="character-encoding">Character encoding</a></h2>
<p>Since rating data is in Unicode, it must be encoded if the storage
method does not support Unicode.</p>
</div>
<div class="section">
<h2><a id="platform-independence" name="platform-independence">Platform independence</a></h2>
<p>Rating data will be stored and processed on lots of different computers
and platforms. All algorithms should be platform independent.</p>
</div>
<div class="section">
<h2><a id="readable-format" name="readable-format">Readable format</a></h2>
<p>The storage format should be easily readable by humans. A readable
format is automatically editable with a text editor, which also guarantees
platform independence for editing operations.</p>
</div>
</div>
<div class="section">
<h1><a id="webcleaner-service" name="webcleaner-service">WebCleaner service</a></h1>
<p>As you might have guessed by now, the WebCleaner software delivers
both a full featured rating service, and supports to deploy and
enforce it on your computer. You can even submit your own ratings
to the service. Below you will find a short description of the
service. For more information, visit the
WebCleaner rating service page (XXX todo).</p>
<div class="section">
<h2><a id="rating-formats" name="rating-formats">Rating formats</a></h2>
<p>The following rating formats are defined by WebCleaner:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="21%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr><td>Name</td>
<td>Values</td>
<td>Interpretation</td>
</tr>
<tr><td>WC-Agerange</td>
<td>INT &quot;-&quot; INT?</td>
<td>Content is only suited for people of
an age in the given range.
If the second range value is missing,
it is considered infinite.</td>
</tr>
<tr><td>WC-Violence
WC-Sex
WC-Language</td>
<td>&quot;none&quot; or
&quot;mild&quot; or
&quot;heavy&quot;</td>
<td>Content contains violence, sex or
foul language in the given degree:
either none, some or a lot of it.</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h2><a id="url-ratings" name="url-ratings">URL ratings</a></h2>
<p>WebCleaner stores URLs normalized and absolute.</p>
</div>
<div class="section">
<h2><a id="id1" name="id1">Service delivery</a></h2>
<p>WebCleaner supports both HTTP header and HTML meta data ratings.</p>
<p>HTTP header example:</p>
<pre class="literal-block">
X-Rating: http://imadoofus.org/service/
X-Rating-WC-Agerange: 10-
</pre>
<p>HTML meta data example:</p>
<pre class="literal-block">
&lt;meta name=&quot;X-Rating&quot; content=&quot;http://imadoofus.org/service/&quot;&gt;
&lt;meta name=&quot;X-Rating-WC-Agerange&quot; content=&quot;10-&quot;&gt;
</pre>
</div>
<div class="section">
<h2><a id="web-interface" name="web-interface">Web interface</a></h2>
<p>The WebCleaner rating web interface allows to query and send ratings
for specific URLs. Sent ratings will undergo a review process
before being admitted into the official rating database.</p>
<p>The WebCleaner proxy web interface will allow to send local ratings
for review to the rating service URL. It will also be possible to
update the local rating database with the official rating database.</p>
</div>
<div class="section">
<h2><a id="storage-format" name="storage-format">Storage format</a></h2>
<p>URL ratings are stored as a number of fields. Each field begins with a
tag, such as <tt class="docutils literal"><span class="pre">URL</span></tt> or <tt class="docutils literal"><span class="pre">Comment</span></tt> (case insensitive), followed by a
colon, and the body of the field. Certain fields may be multiple lines
in length, with subsequent lines indented by whitespace.</p>
<p>The format grammar assumes that the values of the URL rating are given
as the <tt class="docutils literal"><span class="pre">-value</span></tt> terminals. Strings are case insensitive.</p>
<pre class="literal-block">
url-rating ::= url generic? rating+ comment?
url ::= &quot;Url: &quot; url-value
generic ::= &quot;Generic: &quot; (&quot;true&quot; | &quot;false&quot;)
rating ::= rating-name &quot;: &quot; rating-value
comment ::= &quot;Comment: &quot; indented-comment-value
</pre>
<p>Example:</p>
<pre class="literal-block">
Url: http://www.imadoofus.org/
generic: true
wc-Agerange: 6-
Comment: This is just a dandy site, suitable for
  all kinds of people.
  Now with more extras!
</pre>
<p>The parser accepts malformed entries: the fields can be in any
order, and whitespace will be normalized.</p>
</div>
</div>
</div>
<div class="footer">
<hr class="footer" />
Generated on: 2008-06-16 09:04 UTC.

</div>
</body>
</html>
