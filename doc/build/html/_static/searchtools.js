jQuery.makeSearchSummary=function(d,b,g){var c=d.toLowerCase();var f=0;$.each(b,function(){var h=c.indexOf(this.toLowerCase());if(h>-1){f=h}});f=Math.max(f-120,0);var a=((f>0)?"...":"")+$.trim(d.substr(f,240))+((f+240-d.length)?"...":"");var e=$('<div class="context"></div>').text(a);$.each(g,function(){e=e.highlightText(this,"highlight")});return e};var PorterStemmer=function(){var h={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"};var e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};var i="[^aeiou]";var k="[aeiouy]";var a=i+"[^aeiouy]*";var g=k+"[aeiou]*";var f="^("+a+")?"+g+a;var b="^("+a+")?"+g+a+"("+g+")?$";var d="^("+a+")?"+g+a+g+a;var j="^("+a+")?"+k;this.stemWord=function(q){var l;var s;var r;var c=q;if(q.length<3){return q}var t;var o;var n;var m;r=q.substr(0,1);if(r=="y"){q=r.toUpperCase()+q.substr(1)}t=/^(.+?)(ss|i)es$/;o=/^(.+?)([^s])s$/;if(t.test(q)){q=q.replace(t,"$1$2")}else{if(o.test(q)){q=q.replace(o,"$1$2")}}t=/^(.+?)eed$/;o=/^(.+?)(ed|ing)$/;if(t.test(q)){var p=t.exec(q);t=new RegExp(f);if(t.test(p[1])){t=/.$/;q=q.replace(t,"")}}else{if(o.test(q)){var p=o.exec(q);l=p[1];o=new RegExp(j);if(o.test(l)){q=l;o=/(at|bl|iz)$/;n=new RegExp("([^aeiouylsz])\\1$");m=new RegExp("^"+a+k+"[^aeiouwxy]$");if(o.test(q)){q=q+"e"}else{if(n.test(q)){t=/.$/;q=q.replace(t,"")}else{if(m.test(q)){q=q+"e"}}}}}}t=/^(.+?)y$/;if(t.test(q)){var p=t.exec(q);l=p[1];t=new RegExp(j);if(t.test(l)){q=l+"i"}}t=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;if(t.test(q)){var p=t.exec(q);l=p[1];s=p[2];t=new RegExp(f);if(t.test(l)){q=l+h[s]}}t=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;if(t.test(q)){var p=t.exec(q);l=p[1];s=p[2];t=new RegExp(f);if(t.test(l)){q=l+e[s]}}t=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;o=/^(.+?)(s|t)(ion)$/;if(t.test(q)){var p=t.exec(q);l=p[1];t=new RegExp(d);if(t.test(l)){q=l}}else{if(o.test(q)){var p=o.exec(q);l=p[1]+p[2];o=new RegExp(d);if(o.test(l)){q=l}}}t=/^(.+?)e$/;if(t.test(q)){var p=t.exec(q);l=p[1];t=new RegExp(d);o=new RegExp(b);n=new RegExp("^"+a+k+"[^aeiouwxy]$");if(t.test(l)||(o.test(l)&&!(n.test(l)))){q=l}}t=/ll$/;o=new RegExp(d);if(t.test(q)&&o.test(q)){t=/.$/;q=q.replace(t,"")}if(r=="y"){q=r.toLowerCase()+q.substr(1)}return q}};var Search={_index:null,_queued_query:null,_pulse_status:-1,init:function(){var b=$.getQueryParameters();if(b.q){var a=b.q[0];$('input[@name="q"]')[0].value=a;this.performSearch(a)}},setIndex:function(a){var b;this._index=a;if((b=this._queued_query)!==null){this._queued_query=null;Search.query(b)}},hasIndex:function(){return this._index!==null},deferQuery:function(a){this._queued_query=a},stopPulse:function(){this._pulse_status=0},startPulse:function(){if(this._pulse_status>=0){return}function a(){Search._pulse_status=(Search._pulse_status+1)%4;var b="";for(var c=0;c<Search._pulse_status;c++){b+="."}Search.dots.text(b);if(Search._pulse_status>-1){window.setTimeout(a,500)}}a()},performSearch:function(a){this.out=$("#search-results");this.title=$("<h2>"+_("Searching")+"</h2>").appendTo(this.out);this.dots=$("<span></span>").appendTo(this.title);this.status=$('<p style="display: none"></p>').appendTo(this.out);this.output=$('<ul class="search"/>').appendTo(this.out);$("#search-progress").text(_("Preparing search..."));this.startPulse();if(this.hasIndex()){this.query(a)}else{this.setQuery(a)}},query:function(f){var p=new PorterStemmer();var o=[];var l=[];var k=[];var A=f.split(/\s+/);var D=(A.length==1)?A[0].toLowerCase():null;for(var x=0;x<A.length;x++){var y=p.stemWord(A[x]).toLowerCase();if(y[0]=="-"){var a=l;y=y.substr(1)}else{var a=o;k.push(A[x].toLowerCase())}if(!$.contains(a,y)){a.push(y)}}var q="?highlight="+$.urlencode(k.join(" "));console.debug("SEARCH: searching for:");console.info("required: ",o);console.info("excluded: ",l);var C=this._index.filenames;var F=this._index.titles;var h=this._index.terms;var g=this._index.descrefs;var B=this._index.modules;var s=this._index.desctypes;var d={};var e=null;var m=[];var v=[];$("#search-progress").empty();if(D!=null){for(var b in B){if(b.indexOf(D)>-1){fn=B[b];descr=_("module, in ")+F[fn];m.push([C[fn],b,"#module-"+b,descr])}}for(var u in g){for(var E in g[u]){if(E.toLowerCase().indexOf(D)>-1){match=g[u][E];fullname=(u?u+".":"")+E;descr=s[match[1]]+_(", in ")+F[match[0]];m.push([C[match[0]],fullname,"#"+fullname,descr])}}}}m.sort(function(j,i){return(j[1]>i[1])?-1:((j[1]<i[1])?1:0)});for(var x=0;x<o.length;x++){var y=o[x];if((e=h[y])==null){break}if(e.length==undefined){e=[e]}for(var t=0;t<e.length;t++){var z=e[t];if(z in d){d[z].push(y)}else{d[z]=[y]}}}for(var z in d){var n=true;if(d[z].length!=o.length){continue}for(var x=0;x<l.length;x++){if(h[l[x]]==z||$.contains(h[l[x]]||[],z)){n=false;break}}if(n){v.push([C[z],F[z],"",null])}}delete C,F,h;v.sort(function(j,i){var H=j[1].toLowerCase();var G=i[1].toLowerCase();return(H>G)?-1:((H<G)?1:0)});var r=v.concat(m);var w=r.length;function c(){if(r.length){var j=r.pop();var i=$('<li style="display:none"></li>');i.append($("<a/>").attr("href",j[0]+DOCUMENTATION_OPTIONS.FILE_SUFFIX+q+j[2]).html(j[1]));if(j[3]){i.append($("<span> ("+j[3]+")</span>"));Search.output.append(i);i.slideDown(5,function(){c()})}else{if(DOCUMENTATION_OPTIONS.HAS_SOURCE){$.get("_sources/"+j[0]+".txt",function(G){i.append($.makeSearchSummary(G,o,k));Search.output.append(i);i.slideDown(5,function(){c()})})}else{Search.output.append(i);i.slideDown(5,function(){c()})}}}else{Search.stopPulse();Search.title.text(_("Search Results"));if(!w){Search.status.text(_("Your search did not match any documents. Please make sure that all words are spelled correctly and that you've selected enough categories."))}else{Search.status.text(_("Search finished, found %s page(s) matching the search query.").replace("%s",w))}Search.status.fadeIn(500)}}c()}};$(document).ready(function(){Search.init()});