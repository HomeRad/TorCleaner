            WebCleaner - a filtering HTTP proxy
	   =====================================


Features
--------
o disable animated GIFs
o compress documents on-the-fly (with gzip)
o remove/add HTTP headers
o remove unwanted HTML (adverts, javascript, ...)
o customizable to suit your (filtering) needs
o HTTP/1.1 support
o Proxy Authentication (requires HTTP/1.1 capable browser)
o Per-host access control
o JavaScript filtering

Installing
----------
Read the file INSTALL


Configuration
-------------
Run the nice GUI config tool "webcleanerconf".
The underlying configuration format is a custom XML format which is
explained in config/filter.dtd and config/webcleaner.dtd.
Of course the current configuration is tuned to websites I visit
regularly. You can help me extend the current config data by sending
me patches!


Running
-------
You can start the proxy by executing "webcleaner start".


Notes
-----
WebCleaner is _not_ a HTTP compliant proxy because it modifies requests,
headers and data! Modifications aside, the proxy tries to fulfill
the HTTP/1.1 specifications found in RFC 2616.

Surf performance will decrease, especially with the Rewriter and the
Replacer module enabled. It will decrease further with JavaScript
parsing enabled, since the proxy downloads and parses <script src="">
tags in the background.
WebCleaner is intended for a single user system; it does not scale well
beyond 5-10 users.

The Rewriter module parses the HTML. It optimizes HTML by making
tags and attribute names lowercase, quoting attribute values only
when necessary and removing some (but not all) ignorable whitespace.

The warning "unsupported content encoding" could lead to corrupted
HTML pages. WebCleaner tries to filter even unknown-encoded content
to prevent Denial of Service attacks (eg webservers sending always an
unknown content-encoding).
Currently, this affects only the "compress" or "x-compress" encoding,
because the LZW algorithm to uncompress such content is patented and
therefore not included in WebCleaner. See www.burnallgifs.org.


Credits
-------
The proxy code is based on the fourth incarnation of Amit's web proxy.

The filter code design is inspired from FilterProxy, a Perl program from
Bob McElrath <mcelrath+filterproxy@draal.physics.wisc.edu>.

Me, Bob and the author of AIFilter (Tels) had a nice discussion about
filter formats with good ideas. Tels convinced me to try stateful
filtering and I realize that it is very nice indeed.

Disabling animated GIFs is a question of honor, but the idea goes back to
the Webwasher.

The HTML parser is inspired from HotSAX.


What you can do
---------------
- Send me urls with adverts WebCleaner is not filtering.
- Send me urls that do not display correctly in WebCleaner.
- Implement something on the TODO list and send me a patch.
