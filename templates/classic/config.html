<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en" tal:attributes="lang lang">
<head>
<link href="wc.css" type="text/css" rel="Stylesheet">
<title tal:content="title">WebCleaner Proxy Configuration</title>
</head>
<body>
<div metal:use-macro="macros/macros/nav">Navigation...</div>

<div class="content">
<form action="config.html" method="POST">
<table>
<tr>
<td colspan="2">
<caption><big><span tal:replace="title">WebCleaner Proxy Configuration</span>
</big><caption>
</td>
</tr>
<tr valign="top">
<td><table>
<tr valign="top">
<td><span tal:replace="port">Port number</span><a href="#restart">*</a></td>
<td>
  <input class="number" type="text" name="port" maxlength="5"
   tal:attributes="value config/strport">
</td>
</tr>
<tr valign="top">
<td><span tal:replace="proxyuser">Proxy user</span></td>
<td>
  <input class="text" type="text" name="proxyuser"
   tal:attributes="value config/proxyuser">
</td>
</tr>
<tr valign="top">
<td><span tal:replace="proxypass">Proxy pass</span></td>
<td>
  <input class="text" type="password" name="proxypass" value="">
</td>
</tr>
<tr valign="top">
<td><span tal:replace="timeout">Timeout (seconds)</span></td>
<td>
  <input class="number" type="text" name="timeout" value="" maxlength="5"
   tal:attributes="value config/strtimeout">
</td>
</tr>
<tr valign="top">
<td><span tal:replace="parentproxy">Parent proxy</span></td>
<td>
  <input class="text" type="text" name="parentproxy"
   tal:attributes="value config/parentproxy">
</td>
</tr>
<tr valign="top">
<td><span tal:replace="parentproxyport">Parent proxy port number</span></td>
<td>
  <input class="number" type="text" name="parentproxyport" maxlength="5"
   tal:attributes="value config/strparentproxyport">
</td>
</tr>
<tr valign="top">
<td><span tal:replace="parentproxyuser">Parent proxy user</span></td>
<td>
  <input class="text" type="text" name="parentproxyuser"
   tal:attributes="value config/parentproxyuser">
</td>
</tr>
<tr valign="top">
<td><span tal:replace="parentproxypass">Parent proxy pass</span></td>
<td>
  <input class="text" type="password" name="parentproxypass" value="">
</td>
</tr>
<tr valign="top">
<td><span tal:replace="proxyfiltermodules">Proxy filter modules</span></td>
<td>
<div tal:repeat="module filtermodules">
  <input tal:condition="config/filterdict/?module" type="checkbox" checked tal:attributes="value module;name string:filter${module}">
  <input tal:condition="not:config/filterdict/?module" type="checkbox" tal:attributes="value module;name string:filter${module}">
  <span tal:replace="module">SomeFilter</span>
</div>
</td>
</table></td>
<td>
<div tal:replace="allowedhosts">Allowed hosts</div>
<br>
<select name="allowedhosts" multiple size="5">
<option tal:repeat="host config/allowedhostlist" tal:attributes="value host">
<span tal:replace="host">127.0.0.1</span>
</option>
</select>
<br>
<input type="submit" name="delallowed" value="Remove selected" class="submit"
 tal:attributes="value remove">
<br>
<input class="text" type="text" name="newallowed" value="">
<input type="submit" name="addallowed" value="Add new" class="submit"
 tal:attributes="value add">
<br><br>

<div tal:replace="nofilterhosts">Don't filter hosts</div>
<br>
<select name="nofilterhosts" size="5" multiple>
<option tal:repeat="host config/nofilterhostlist" tal:attributes="value host"
 tal:content="host">127.0.0.1</option>
</select>
<br>
<input type="submit" name="delnofilter" value="Remove selected" class="submit"
 tal:attributes="value remove">
<br>
<input class="text" type="text" name="newnofilter" value="">
<input type="submit" name="addnofilter" value="Add new" class="submit"
 tal:attributes="value add">
</td>
</tr>
<tr>
<td colspan="2">
<input type="submit" value="Apply" class="submit"
 tal:attributes="value configapply">
</td>
</tr>
</table>
</form>

<div tal:repeat="item info">
<span tal:replace="item">Info</span>
</div>

<div tal:repeat="item error">
<span tal:replace="item">Error</span>
</div>

<a name="restart">*</a>
The marked options require a proxy restart to take effect.
</div>

<div metal:use-macro="macros/macros/footer">Footer...</div>
</body>
</html>
