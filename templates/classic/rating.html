<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en" tal:attributes="lang lang">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="copyright" content="(C) 2004-2005 Bastian Kleineidam">
<link href="wc.css" type="text/css" rel="Stylesheet">
<link rel="SHORTCUT ICON" href="/favicon.png">
<link rel="home" href="index.html" title="Home"
 tal:attributes="href string:index.html.${lang}">
<link rel="help" href="help.html" title="Help"
 tal:attributes="href string:help.html.${lang}">
<title i18n:translate="">Content rating for
<span tal:replace="AppName" i18n:name="appname">WebCleaner</span></title>
</head>
<body>
<div metal:use-macro="macros/nav">Navigation...</div>
<div class="content" id="main">
<p i18n:translate="">You can rate and review web pages according to
several given categories.</p>

<h2 i18n:translate="">URL rating</h2>
<form action="#" method="POST" name="ratingform"
 tal:attributes="action string:${filename}.${lang}">
<label for="url" i18n:translate=""
 i18n:attributes="title" title="URL to rate"
 >URL</label>
<input class="text" style="width: 280px;" type="text" name="url" id="url"
 value="http://imadoofus.com/" tal:attributes="value url">
<br><br>
<label for="generic" i18n:translate="">Applies to all pages starting with url?</label>
<input type="checkbox" name="generic" value="generic"
 tal:condition="generic" checked>
<input type="checkbox" name="generic" value="generic"
 tal:condition="not:generic">
<br><br>
<table rules="cols" border="0" cellpadding="5" cellspacing="0" summary="">
<thead>
<tr style="border-bottom:1px solid black;">
<th i18n:translate="">Category</th>
<th colspan="3" i18n:translate="">Rating</th>
</tr>
</thead>
<tbody>
<!-- loop over categories -->
<tr tal:repeat="category categories">
<td tal:define="global catname category/name"><label
 tal:attributes="for string:category_${catname}"
 tal:content="catname" i18n:translate="">violence</label>
</td>
<!-- category values -->
<td tal:condition="not:category/iterable" colspan="3">
<input type="text" size="4"
 tal:attributes="name string:category_${catname};value values/?catname"
></td>
<td tal:condition="category/iterable"
 tal:repeat="value category/values"
><input type="radio" checked
 tal:condition="values/?catname/?value"
 tal:attributes="name string:category_${catname};value value"
><input type="radio"
 tal:condition="not:values/?catname/?value"
 tal:attributes="name string:category_${catname};value value"
>&nbsp;<span tal:content="value" i18n:translate="">Mild</span>
</td>
</tr>
</tbody>
</table>
<br>
<input type="submit" name="apply" value="Apply" class="submit"
 i18n:attributes="value">
</form>

<h2 i18n:translate="">Saved ratings</h2>
<div tal:condition="selindex">
<span i18n:translate="">Go to rating:</span>
<span tal:repeat="number selindex"><a href="#"
 tal:attributes="href string:${filename}.${lang}?selindex=${number}"
 tal:content="number">50</a> </span>
</div>
<table rules="cols" summary="" border="0" cellpadding="5" cellspacing="0"
 style="border-bottom:1px solid black;width:80%;">
<thead>
<tr style="border-bottom:1px solid black;">
<th>&nbsp;</th>
<th i18n:translate="">URL</th>
<th i18n:translate="">Generic</th>
<th i18n:translate="">Rated</th>
<th i18n:translate="">Modified</th>
</tr>
</thead>
<tbody>
<tr tal:repeat="rurl ratings_display">
<td tal:define="global rating rating_store/?rurl">
<table border="0" cellpadding="0" cellspacing="0" summary="">
<tr><td><a href="#" i18n:attributes="title"
 title="Edit this rating"
 tal:attributes="href string:${filename}.${lang}?url=${rurl}"><img
 src="edit.png" alt="Edit" i18n:attributes="alt"></a></td>
<td><a href="#"
 title="Delete this rating"
 onclick="return window.confirm('Really delete this rating?')"
 i18n:attributes="title onclick"
 tal:attributes="href string:${filename}.${lang}?url=${rurl}&delete=1"><img
 src="delete.png" alt="Delete" i18n:attributes="alt"></a></td>
<td><a href="#"
 title="Email this rating to the author"
 i18n:attributes="title"
 tal:attributes="href string:rating_mail.html.${lang}?url=${rurl}"><img
 src="mail.png" alt="Mail" i18n:attributes="alt"></a></td>
</tr></table></td>
<td><a href="#" tal:attributes="href rurl"
 tal:content="rurl">http://imadoofus.com</a></td>
<td><span i18n:translate="" tal:content="rating/generic">True</span></td>
<td><span
 tal:repeat="category rating/category_values/keys">
<span tal:content="category" i18n:translate="">violence</span>="<span
 tal:replace="rating/category_values/?category">0</span>"
</span>
</td>
<td><span tal:replace="structure rating_modified/?rurl">1. Jan 2004</span></td>
</tr>
<tr tal:condition="not:ratings_display">
<td>&nbsp;</td>
<td colspan="4" i18n:translate="">There are no url ratings saved.</td>
</tr>
</table>

<div class="info">
<div tal:condition="info/ratingupdated" i18n:translate="">Rating successfully updated.</div>
<div tal:condition="info/ratingdeleted" i18n:translate="">Rating successfully deleted.</div>
</div>

<div class="error">
<div tal:condition="error/categoryvalue" i18n:translate="">Invalid category value.</div>
<div tal:condition="error/selindex" i18n:translate="">Invalid selection index.</div>
<div tal:condition="error/url" i18n:translate="">Invalid url.
The url has to start with <code>http://</code>, <code>https://</code> or
<code>ftp://</code>.</div>
</div>

</div>

<div metal:use-macro="macros/footer">Footer...</div>
</body>
</html>
