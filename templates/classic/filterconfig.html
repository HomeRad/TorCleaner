<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en" tal:attributes="lang lang">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link href="wc.css" type="text/css" rel="Stylesheet">
<link href="index.html" rel="home" title="Home"
 tal:attributes="href string:index.html.${lang}">
<title i18n:translate="">%(AppName)s filter rule configuration</title>
</head>
<body>
<div metal:use-macro="macros/macros/nav">Navigation</div>
<div class="content" id="main">
<form action="filterconfig.html" method="POST" name="filterform"
 tal:attributes="action string:${filename}.${lang}">
<table rules="cols" cellpadding="5">
<thead>
<tr style="border-bottom:1px solid black;">
<th style="width:25%;" i18n:translate="">Folders</th>
<th style="width:30%;" i18n:translate="">Folder rules</th>
<th style="width:45%;" i18n:translate="">Rule</th>
</tr>
</thead>
<tbody>
<tr valign="top">
<!-- folders -->
<td>
<div tal:repeat="folder config/folderrules"><img
 tal:condition="not:folder/up" src="blocked.png" width="10" alt=""><input
 type="image" src="up.png" border="0" tal:condition="folder/up"
 tal:attributes="name string:folder_up_${folder/oid}"
 i18n:attributes="title Move folder up; alt Up"
><img tal:condition="not:folder/down" src="blocked.png" width="10" alt=""><input
 type="image" src="down.png" border="0" tal:condition="folder/down"
 tal:attributes="name string:folder_down_${folder/oid}"
 i18n:attributes="title Move folder down; alt Down"
><img tal:condition="folder/disable" src="disabled.png"
 i18n:attributes="alt Disabled folder icon"><span
 tal:condition="not:folder/disable"
><img tal:condition="not:folder/selected" src="minifolder.png"
 i18n:attributes="alt Folder icon"
><img tal:condition="folder/selected" src="minifolderopen.png"
 i18n:attributes="alt Folder icon"></span>
<b tal:omit-tag="not:folder/selected">
<a href="#" tal:content="folder/title"
 tal:attributes="href string:filterconfig.html?selfolder=${folder/oid}; title folder/tiptext"
 >Scripting</a>
</b>
</div>
<hr noshade size="1">
<table>
<tr>
<td>
<input type="text" class="text" name="newfoldername" value="Folder name"
 i18n:attributes="value Folder name">
</td>
<td>
<input type="submit" class="submit" name="newfolder" value="New folder"
 i18n:attributes="value New folder">
</td>
</tr>
</table>
</td>
<!-- rules -->
<td>
<div tal:condition="curfolder">
<input type="hidden" name="selfolder" tal:attributes="value string:${curfolder/oid}">
<div tal:repeat="rule curfolder/rules"><img
 tal:condition="not:rule/up" src="blocked.png" width="10" alt=""><input
 type="image" src="up.png" border="0" tal:condition="rule/up"
 tal:attributes="name string:rule_up_${rule/oid}"
 i18n:attributes="title Move rule up; alt Up"
><img tal:condition="not:rule/down" src="blocked.png" width="10" alt=""><input
 type="image" src="down.png" border="0"
 tal:condition="rule/down"
 tal:attributes="name string:rule_down_${rule/oid}"
 i18n:attributes="title Move rule down; alt Down"
><img tal:condition="rule/disable" src="disabled.png" alt="Disabled rule icon"
 i18n:attributes="alt Disabled rule icon"><img 
 tal:condition="not:rule/disable" src="minidoc.png" alt="Rule icon"
 i18n:attributes="alt Rule icon">
<b tal:omit-tag="not:rule/selected">
<a href="#" tal:condition="not:curfolder/disable" tal:content="rule/title"
 tal:attributes="href string:filterconfig.html?selfolder=${curfolder/oid}&amp;;selrule=${rule/oid}; title rule/tiptext"
 >On focus</a>
<span tal:condition="curfolder/disable" tal:content="rule/title"
 tal:attributes="title rule/tiptext">On focus</span>
</b>
</div>
<hr noshade size="1">
<table>
<tr>
<td>
<input type="text" class="text" name="foldername" size="10"
 tal:attributes="value curfolder/title">
</td>
<td>
<input type="submit" class="submit" name="renamefolder" value="Rename folder"
 i18n:attributes="value Rename folder">
</td>
</tr>
<tr>
<td>
<select name="newruletype">
<option tal:repeat="rule newrulenames" tal:content="rule/capitalize"
 tal:attributes="value rule">Rewrite</option>
</select>
</td>
<td>
<input type="submit" class="submit" name="newrule" value="New rule"
 i18n:attributes="value New rule; title Add new rule to current folder.">
</td>
</tr>
<tr>
<td colspan="2">
<input type="submit" class="submit" value="Remove folder"
 tal:attributes="name string:removefolder${curfolder/oid}"
 i18n:attributes="value Remove folder; onclick return window.confirm('Really remove this folder?')">
<input tal:condition="curfolder/disable"
 type="submit" class="submit" value="Enable folder"
 tal:attributes="name string:enablefolder${curfolder/oid}"
 i18n:attributes="value Enable folder"
><input tal:condition="not:curfolder/disable"
 type="submit" class="submit" value="Disable folder"
 tal:attributes="name string:disablefolder${curfolder/oid}"
 i18n:attributes="value Disable folder">
</td>
</tr>
</table>
</div>
</td>
<!-- rule -->
<td>
<div tal:condition="currule">
<input type="hidden" name="selrule"
 tal:attributes="value string:${currule/oid}">
<span tal:repeat="rule rulenames" tal:omit-tag="">
<span tal:condition="ruletype/?rule" tal:omit-tag="">
<div>
<span tal:content="rule/capitalize">Javascript</span>
<span i18n:translate="">Rule</span>
</div>
<div metal:use-macro="rulemacros/macros/?rule">
Here is the rule configuration...
</div></span>
</span>
<hr noshade size="1">
<input type="submit" class="submit" value="Remove rule"
 tal:attributes="name string:removerule${currule/oid}"
 i18n:attributes="value Remove rule; onclick return window.confirm('Really remove this rule?')">
<input tal:condition="currule/disable"
 type="submit" class="submit" value="Enable rule"
 tal:attributes="name string:enablerule${currule/oid}"
 i18n:attributes="value Enable rule"
><input tal:condition="not:currule/disable"
 type="submit" class="submit" value="Disable rule"
 tal:attributes="name string:disablerule${currule/oid}"
 i18n:attributes="value Disable rule">
</div>
</td>
</tr>
</tbody>
</table>
</form>

<div tal:condition="info"  class="info">
<span i18n:translate="">Info</span>:
<span tal:repeat="item info">
<span tal:replace="item">something happened</span>
</span>
</div>

<div tal:condition="error" class="error">
<span i18n:translate="">Error</span>:
<span tal:repeat="item error">
<span tal:replace="item">Error message</span>
</span>
</div>

</div>

<div metal:use-macro="macros/macros/footer">Footer...</div>
</body>
</html>
