TODO

version 2.16 and above

Traceback (most recent call last):
  File "/home/calvin/projects/webcleaner/webcleaner", line 170, in ?
    main(sys.argv[1:])
  File "/home/calvin/projects/webcleaner/webcleaner", line 166, in main
    return main_posix(configdir)
  File "/home/calvin/projects/webcleaner/webcleaner", line 142, in main_posix
    wc.wstartfunc(confdir=configdir)
  File "/home/calvin/projects/webcleaner/wc/__init__.py", line 153, in wstartfunc
    wc.proxy.mainloop(handle=handle, abort=abort)
  File "/home/calvin/projects/webcleaner/wc/proxy/__init__.py", line 178, in mainloop
    proxy_poll(timeout=max(0, run_timers()))
  File "/home/calvin/projects/webcleaner/wc/proxy/__init__.py", line 137, in proxy_poll
    x.handle_read_event()
  File "/home/calvin/projects/webcleaner/wc/proxy/Dispatcher.py", line 249, in handle_read_event
    self.handle_read()
  File "/home/calvin/projects/webcleaner/wc/proxy/Connection.py", line 82, in handle_read
    self.process_read()
  File "/home/calvin/projects/webcleaner/wc/proxy/HttpServer.py", line 199, in process_read
    if self.delegate_read():
  File "/home/calvin/projects/webcleaner/wc/proxy/StatefulConnection.py", line 35, in delegate_read
    getattr(self, 'process_'+self.state)()
  File "/home/calvin/projects/webcleaner/wc/proxy/HttpServer.py", line 418, in process_content
    self.client.server_content(data)
  File "/home/calvin/projects/webcleaner/wc/proxy/HttpClient.py", line 443, in server_content
    assert self.server, "%s server_content had no server"%self
AssertionError: <client:request  being read> server_content had no server

- windows network config

======================================================================
FAIL: testRecursionSrc (tests.server.TestScriptSrc.TestScriptSrc)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/calvin/projects/webcleaner/tests/server/TestScriptSrc.py", line 181, in testRecursionSrc         
    </table>""")             
  File "/home/calvin/projects/webcleaner/tests/server/TestScriptSrc.py", line 114, in filt                     
    self.assertEqual(filtered, result)
  File "/usr/lib/python2.3/unittest.py", line 302, in failUnlessEqual
    raise self.failureException, \
AssertionError: '<script type="text/javascript">\n<!--\ndocument.write(\'<iframe frameborder="0" framespacing="0" marginheight="0" marginwidth="0" scrolling="no" src="http://www.n24.de/service/dynabanner/n24_banner.html" vspace="0" width="468" height="60" border="0"></iframe>\');\n<!-&#45;\nsoi_place=escape("fullbanner2");soi_ad=escape("030219 dynamic banner 468 ohne Clicks (18095)");soi_adplace=soi_place+escape(" - ")+soi_ad+" \n";if (soi_adtrace) soi_adtrace+=soi_adplace;else var soi_adtrace=soi_adplace;soi_ad=soi_ad.toLowerCase();if (window.add2tag){if ((soi_ad.indexOf("powerlayer") > -1) || (soi_ad.indexOf("interstitial") > -1) || (soi_ad.indexOf("popup") > -1)) {add2tag += "&sowefo_ausschluss=powerlayer_popup_interstitial";}}\n//-&#45;>\n//-->\n</script>\n      </td>\n   </tr>\n</table>' != '\n      </td>\n   </tr>\n</table>'      

- ssl certificate verification

- memory leaks while operating the proxy

- allow filtering/blocking by MIME type

- bfilter has Flash parse and generation library, I want that too .)

- the error "Empty image data found" - what causes it??

- test NTLM authentication
  Mozilla >= 1.6b can test NTLM server auth, squid can test client auth

- NTLM: restore old method type when method was not GET

- NTLM: reconnect to parent proxy after first 407 error (squid closes
  the connection)

- unicode parsing for flex
  the HTML parser (written with flex) does not support unicode, so
  sometimes you'll see '?' chars in the HTML output.

- IPv6 support (there are some stubs already, but untested, and DNS
  library is missing IPv6 support)

- integrate with http://mute-net.sourceforge.net/ somehow?

