TODO

version 2.20

- empty page: http://sport.ard.de/sp/allgemein/verletzungen/index.jhtml

- proper MIME magic scanning on the body content, not on response content

- use ZPT tal implementation, having i18n support

- weisses Bild: http://web.vobis.de/is-bin/INTERSHOP.enfinity/eCS/Store/de/-/EUR/Katalog-Seite;sid=nyF9AlBsxMh9xBFkZ_ukWzYIWd8I_wlIaUI=;sid=BpfPg75hPsXOPP9p_ksW2tgFJK27A-dF8PQ=?PageableID=M13ZWWZlEpYAAAD%2eJTz6pgoK&MasterPageableID=uOLZWWZlRGcAAAD%2eNCn6pgsM&MasterPageableName=Monitore&PageableName=Products&PageNumber=1&modus=&xyz=n&search_query_keyword=

- disable switch like privoxy
  http://config.privoxy.org/toggle?set=disable
  http://config.privoxy.org/toggle?set=enable
  http://config.privoxy.org/toggle

- Offer list of interfaces the proxy can listen on. The default right
  now is to listen on all network interfaces for connections.

- replace `localhost` hostname with interface IP/host in config templates

- IP network mask/range is not working

- document how to install a proxy that can be used from outside
  (intranet or internet)

- kein Text: http://www.osnews.com/story.php?news_id=7314

- HTML scan: 
  ERROR 2004-09-01 09:46:23,992 wc.filter unknown HTML tag "scr'+'ipt" at 
  'http://servedby.netshelter.net/serve.cgi?pid=OSNEWS&g=1&m=4&j=1&k=1&id=537309467594&d=js'

- Traceback (most recent call last):
  File "/home/calvin/projects/webcleaner/webcleaner", line 170, in ?
    main(sys.argv[1:])
  File "/home/calvin/projects/webcleaner/webcleaner", line 166, in main
    return main_posix(configdir)
  File "/home/calvin/projects/webcleaner/webcleaner", line 142, in main_posix
    wc.wstartfunc(confdir=configdir)
  File "/home/calvin/projects/webcleaner/wc/__init__.py", line 153, in wstartfunc
    wc.proxy.mainloop(handle=handle, abort=abort)
  File "/home/calvin/projects/webcleaner/wc/proxy/__init__.py", line 178, in mainloop
    proxy_poll(timeout=max(0, run_timers()))
  File "/home/calvin/projects/webcleaner/wc/proxy/__init__.py", line 137, in proxy_poll
    x.handle_read_event()
  File "/home/calvin/projects/webcleaner/wc/proxy/Dispatcher.py", line 249, in handle_read_event
    self.handle_read()
  File "/home/calvin/projects/webcleaner/wc/proxy/Connection.py", line 82, in handle_read
    self.process_read()
  File "/home/calvin/projects/webcleaner/wc/proxy/HttpServer.py", line 199, in process_read
    if self.delegate_read():
  File "/home/calvin/projects/webcleaner/wc/proxy/StatefulConnection.py", line 35, in delegate_read
    getattr(self, 'process_'+self.state)()
  File "/home/calvin/projects/webcleaner/wc/proxy/HttpServer.py", line 418, in process_content
    self.client.server_content(data)
  File "/home/calvin/projects/webcleaner/wc/proxy/HttpClient.py", line 443, in server_content
    assert self.server, "%s server_content had no server"%self
AssertionError: <client:request  being read> server_content had no server

version 2.21 and above

- use ssl-cert-check bash script

- Python 2.4 made socket.sslerror a subclass of socket.error; can we
  use that?

- add functional tests

invalid js url:
http://www.burstnet.com/cgi-bin/ads/ad8328a.cgi/v=2.0S/sz=468x60A|728x90A/65740/RETURN-CODE/JS/
http://adstome.com/phpads/adjs.php?n=864959011&what=zone:5&exclude=,

- squid uses an external auth configuration, we could use that too

- http://www.sane.com/demo/NetTracker/intranet/index.html
  JS navi not there

- ssl certificate verification

- memory leaks while operating the proxy

- allow filtering/blocking by MIME type

- bfilter has Flash parse and generation library, I want that too .)

- test NTLM authentication
  Mozilla >= 1.6b can test NTLM server auth, squid can test client auth

- NTLM: restore old method type when method was not GET

- NTLM: reconnect to parent proxy after first 407 error (squid closes
  the connection)

- unicode parsing for flex
  the HTML parser (written with flex) does not support unicode, so
  sometimes you'll see '?' chars in the HTML output.

- IPv6 support (there are some stubs already, but untested, and DNS
  library is missing IPv6 support)
  Big problem: how do we decide when to send out IPv6 DNS queries?

- integrate with http://mute-net.sourceforge.net/ somehow?
  integrate with Coral somehow (appending .nyud.net:8090)?

