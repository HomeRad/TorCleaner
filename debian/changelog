webcleaner (0.36) unstable; urgency=low

  * use getheader(), not get() on HTTP header object

 -- Bastian Kleineidam <calvin@debian.org>  Wed, 10 Apr 2002 01:11:51 +0200

webcleaner (0.35) unstable; urgency=low

  * fix BinaryCharFilter: use string.maketrans
  * webcleanerconf: dont sort rules alphabetically
  * HttpServer.py: fix Compress module by calling initStateObject before
    sending headers

 -- Bastian Kleineidam <calvin@debian.org>  Tue,  9 Apr 2002 00:11:22 +0200

webcleaner (0.34) unstable; urgency=low

  * Use FOX 1.0.0 libraries

 -- Bastian Kleineidam <calvin@debian.org>  Thu, 28 Mar 2002 01:06:37 +0100

webcleaner (0.33) unstable; urgency=low

  * Fix DOCTYPE filtering with no pubid content (added missing >)
  * Add url regular expression matchers to the filter rules Rewriter,
    Replacer and Gifimage. This allows to match rules only to specific
    urls.
  * Updated webcleanerconf GUI for the modified rules.
  * Update german translation.
  * Dont bail out if /etc/resolv.conf could not be found on DNS init.

 -- Bastian Kleineidam <calvin@debian.org>  Sat, 23 Feb 2002 19:30:21 +0100

webcleaner (0.32) unstable; urgency=low

  * setup.py: fix to work with Python 2.2
  * wc/gui/ConfWindow.py: fix error message with unwritable config file
  * wc/gui/ToolWindow.py: common base class for tools
  * wc/filter/Rewriter.py: add some characters to _noquoteval to prevent
    unnecessary quoting
  * debian/templates: s/webcleanerconf/webcleanertools/
  * wc/proxy/ClientServerMatchmaker.py: return on errors

 -- Bastian Kleineidam <calvin@debian.org>  Tue, 12 Feb 2002 21:15:06 +0100

webcleaner (0.31) unstable; urgency=low

  * debian/webcleaner.docs, MANIFEST.in: remove draft-lutuonen...txt
  * HTML-encode attribute values
  * debian/rules: remove patch backup file from build dir
  * use _WIN32, not WIN32. Fixes compile error on Windows
  * _nt.py: use proper script directory
  * debian/control: suggest webcleanertools

 -- Bastian Kleineidam <calvin@debian.org>  Mon, 10 Dec 2001 09:51:36 +0100

webcleaner (0.30) unstable; urgency=low

  * wcheaders, webcleanerconf: only enable() edit/remove buttons when
    they can do something
  * more advert filters
  * use string methods where possible
  * webcleanerconf: better help dialog window

 -- Bastian Kleineidam <calvin@debian.org>  Sat,  1 Dec 2001 13:13:52 +0100

webcleaner (0.29) unstable; urgency=low

  * wcheaders:
    - distinguish between incoming and outgoing headers for the onlyfirst
      option
    - catch URLErrors (they are thrown when the proxy is not running)
  * new header filter for Accept* headers (default disabled)
  * setup.py
    - adjust .bat files on Windows to be executable out-of-the-box
    - use "libxml2" as libxml library name on Windows
    - use os.getcwd(), not "."
  * compile fix for Windows in htmlsax.c
  * minor debug output improvements
  * use Pythons internal gettext module, get rid of fintl.py
  * remove webcleaner.bat, we only need webcleanerconf.bat for Windows

 -- Bastian Kleineidam <calvin@debian.org>  Thu, 29 Nov 2001 15:59:53 +0100

webcleaner (0.28) unstable; urgency=low

  * fix another flush error when self.attrs is not set
  * use re.sub() in Replacer.py, this is much faster

 -- Bastian Kleineidam <calvin@debian.org>  Wed, 21 Nov 2001 19:45:18 +0100

webcleaner (0.27) unstable; urgency=low

  * wcheaders option window improvements
  * on Debian use init.d script for proxy start/stop/restart in
    webcleanerconf

 -- Bastian Kleineidam <calvin@debian.org>  Wed, 21 Nov 2001 11:00:53 +0100

webcleaner (0.26) unstable; urgency=low

  * fix flushing in proxy
  * updated german .po file

 -- Bastian Kleineidam <calvin@debian.org>  Sat, 17 Nov 2001 14:04:05 +0100

webcleaner (0.25) unstable; urgency=low

  * wcheaders: scrolling fix
  * flush data if server is closed
  * more quoting in .xml files
  * use buffering in the replacer

 -- Bastian Kleineidam <calvin@debian.org>  Fri, 16 Nov 2001 10:07:08 +0100

webcleaner (0.24) unstable; urgency=low

  * htmlsax.c: set default encoding to latin-1, because some pages dont
    set the correct charset
  * new config option: log HTML errors
  * filter rule shortcut icon: match case insensitive
  * new header filter to remove cookies
  * a new gui tool wcheaders watches HTTP headers while surfing

 -- Bastian Kleineidam <calvin@debian.org>  Tue, 13 Nov 2001 00:52:02 +0100

webcleaner (0.23) unstable; urgency=low

  * htmlparser.c: fix segfault in character encoding

 -- Bastian Kleineidam <calvin@debian.org>  Wed,  7 Nov 2001 22:00:54 +0100

webcleaner (0.22) unstable; urgency=low

  * implemented header logging
  * print HTML parser errors to stderr
  * fixed broken header parsing
  * propagate Python exceptions in the HTML parser
  * encode UTF-8 chars to HTML in the HTML parser
  * misc cleanups and corrections for the release
  * add stubs for the wcheaders tool
  * do not suppress DOCTYPE tags

 -- Bastian Kleineidam <calvin@debian.org>  Tue,  6 Nov 2001 15:51:30 +0100

webcleaner (0.21) unstable; urgency=low

  * fix AssertionError in ServerPool: dont unregister servers twice
  * add webcleaner.conf manpage

 -- Bastian Kleineidam <calvin@debian.org>  Sat,  3 Nov 2001 00:39:26 +0100

webcleaner (0.20) unstable; urgency=low

  * documentation updates
  * removed debian/conffile and debian/webcleanerconf.dirs
  * use Python2.1 in Debian scripts
  * new HTML parser based on libxml2
  * add bzip encoding for .bz2 files

 -- Bastian Kleineidam <calvin@debian.org>  Thu,  1 Nov 2001 20:12:26 +0100

webcleaner (0.19) unstable; urgency=low

  * htmlop.l:
    use my own strncasecmp function
    force 8bit option in lexer
  * correct use of logfiles in Debian init.d script
  * minor code cleanups
  * help for french output in .bat files
  * added webcleanerconf.bat

 -- Bastian Kleineidam <calvin@debian.org>  Mon, 22 Oct 2001 11:21:12 +0200

webcleaner (0.18) unstable; urgency=low

  * fixes for debian install scripts
  * flush logfile when logging
  * fix log format
  * norm config_dir path in configdata for platform independency
  * HTML parser:
    require Python >= 2.0
    add support for XML declaration tags <?...?>
    better parsing of <script> tags without inside comments
    better <!...> parsing
  * search for TEMP dir under Windows when generating daemon .pid file
  * fix error handling: pass the traceback object
  * only gunzip certain MIME types, not all (for example .tar.gz files)
  * resorted the README, it somehow got overridden

 -- Bastian Kleineidam <calvin@debian.org>  Mon, 15 Oct 2001 14:09:28 +0200

webcleaner (0.17) unstable; urgency=low

  * webcleaner: import os only when really needed (thanks to
    Jim Rutledge <jimrutledge@earthlink.net>)
  * wc/proxy/__init__.py,wc/proxy/Listener.py:
    add missing commas in print statements
    (thanks to Jim Rutledge <jimrutledge@earthlink.net>)
  * wc/parser/htmlop.c: new HTML parser, adapted from libhtmlparser
    package
  * added regression tests
  * fixed typo in dns_lookups.py for Windows Registry handling
  * fixed Windows version recognition in daemon/_nt.py
  * add missing argument in daemon/_other.py and daemon/_nt.py
    start() functions
  * setup.py: install webcleaner.bat on Windows platforms

 -- Bastian Kleineidam <calvin@debian.org>  Fri,  5 Oct 2001 15:41:15 +0200

webcleaner (0.16) unstable; urgency=low

  * add PackError and UnpackError exception classes to dnslib.py
  * add logrotating in debian package
  * cosmetic cleanups
  * remove Content-Length: header when we enabled content changing
    modules like the HTML Rewriter
  * improved onlinetests
  * send Content-Length: header in ServerHandleDirectly class
  * return after calling ServerHandleDirectly
  * check for blocked links before giving config and statistics data
  * added replacer filter which can replace arbitrary strings in the
    data stream. For now only the response content gets filtered.
  * DNS config for Windows platforms improved

 -- Bastian Kleineidam <calvin@debian.org>  Fri, 24 Aug 2001 16:52:28 +0200

webcleaner (0.15) unstable; urgency=low

  * fix parser with unquoted tag attributes ending in a slash
    (often found on google.com)

 -- Bastian Kleineidam <calvin@debian.org>  Thu,  9 Aug 2001 20:24:20 +0200

webcleaner (0.14) unstable; urgency=low

  * sanitize default config
  * if you connect to your proxy directly (e.g. http://localhost:8080/),
    you see config and statistic data
  * use new Python 2.0 string methods
  * support gzip encoded HTML content

 -- Bastian Kleineidam <calvin@debian.org>  Wed,  8 Aug 2001 10:33:27 +0200

webcleaner (0.13) unstable; urgency=low

  * fix an assertion error in HttpServer.py: only close the server when
    it is connected
  * add missing second argument to handle_proc function, this prevented
    xml files to be parsed correctly
  * fixed the parser so that <tag/> tags are handled correctly
  * implemented Windows-specific daemon handler functions
  * Remove GIF image filtering from default config. Mozilla provides
    this itself :)

 -- Bastian Kleineidam <calvin@debian.org>  Mon, 30 Jul 2001 22:01:56 +0200

webcleaner (0.12) unstable; urgency=low

  * always initialize filter attributes in HttpServer.py
  * minor bugfixes with unintialized vars
  * use FOX and FXPy >= 0.99.167
  * global config object in wc.proxy
  * more status info (get it with http://_webcleaner/)
    hit statistics still need to be filled out
  * added missing return in daemon/posix.py:start()
    now the GUI Proxy buttons are working for POSIX systems
  * new proxy config option "no proxy for" to disable filtering
    for specific sites
  * POST requests no longer block forever
  * include debian/copyright in dist
  * remove #! line from two .py files which are not scripts

 -- Bastian Kleineidam <calvin@debian.org>  Wed, 25 Apr 2001 02:54:46 +0200

webcleaner (0.11) unstable; urgency=low

  * new proxy code: HTTP/1.1 and select() I/O
  * use versioned PID file
  * new CVS module webcleaner2
  * parent proxy support for the new proxy code

 -- Bastian Kleineidam <calvin@debian.org>  Wed, 18 Apr 2001 19:34:49 +0200

webcleaner (0.10) unstable; urgency=low

  * convert config values from unicode to strings
  * rename FilterRule to FolderRule (and all other occurences)

 -- Bastian Kleineidam <calvin@debian.org>  Tue, 10 Apr 2001 00:22:14 +0200

webcleaner (0.9) unstable; urgency=low

  * rename from WebCleaner to webcleaner
  * bumped standards to 3.5.2
  * remove INSTALL from .deb package
  * updated filtering rules
  * implemented filter config update
  * fixed parent proxy support
  * use fast expat XML parsing for configuration; this
    replaces PyXML
  * basic support for non-POSIX systems for daemon.py
  * use FOX registry for color values
  * burn all GIFs from webcleanerconf
  * webcleanerconf uses disablement icons in the filter tree list

 -- Bastian Kleineidam <calvin@debian.org>  Thu, 29 Mar 2001 00:00:19 +0200

webcleaner (0.8) unstable; urgency=low

  * Require PyXML >= 0.5.2 (compatibility functions again)
  * translation updates

 -- Bastian Kleineidam <calvin@users.sourceforge.net>  Sun, 14 Jan 2001 23:04:55 +0100

webcleaner (0.7) unstable; urgency=low

  * setup.py:
    - fix for distutils debugging function dump_dirs
    - hack for handling man pages correctly with bdist_rpm target
  * *.py:
    - require Python >= 2.0
    - require PyXML >= 0.6.2
  * webcleaner, webcleanerconf:
    - use compatibility functions in get_dom.py
    - i18n and german translation
  * webcleaner:
    - move proxy code to webfilter/proxy.py
  * webfilter/proxy.py:
    - ip obfuscation
    - set SO_REUSEADDR to be able to restart immediately after
      an interruption with ctrl-c
    - SSL tunneling stubs, but this code is still ALPHA, dont use it.
  * webcleaner.1, webcleanerconf.1:
    - added man pages
  * webfilter/Rewriter.py:
    - a rule can match and filter more than once on the start tag
      (use this to remove multiple scripting attributes like onmouseover,
      onmouseout, onfocus,...)
    - dont decode entity references, we leave that for the browser
  * webparser/*:
    - optimized HTML parser added (adjusted from sgmlop.c)
  * webcleanerconf, webfilter/Rules.py:
    - alphabetically sorted rules
  * webcleanerconf:
    - change tree folder name with the rule title
    - use SEL_CHANGED to correctly detect a change of FXText
    - basic merging stuff, but not complete yet
  * webfilter/Rules.py:
    - fixed off-by-one error in Rule.filter_complete()
    - use pattern value in RewriteRule.enclosed()
  * webfilter/daemon.py:
    - daemon options to start,stop,restart and reload daemon processes
  * config/README.txt, webcleanerconf, webcleanerconf.1:
    - better help for config options
  * MANIFEST.in:
    - exclude WebCleanerConf.py, it is generated automatically
  * webfilter/daemon.py:
    - start/stop/restart/reload/status functions for proxy control
      (only under POSIX systems!)

 -- Bastian Kleineidam <calvin@users.sourceforge.net>  Wed, 20 Dec 2000 13:40:40 +0100

webcleaner (0.6) unstable; urgency=low

  * added some ad filters
  * debian/control: new field Build-Depends
  * debian/control: Standards version 3.1.1
  * debian/control: depend on Python 1.5.2
  * debian/copyright: first line was too long
  * debian/postinst: compile .py files
  * debian/rules: new configuration target
  * debian/prerm: new file; delete compiled .py files
  * debian/*, setup.py, MANIFEST.in:
    numerous small fixes: add a file here, adjust a command line
    there...
  * filtertest, filtertest.html: test suite added
  * config/*: configuration with XML and zappers; see
    http://webcleaner.sourceforge.net/zapper.html
  * webfilter/*.py: completely new HTML parser and filter code, with
    ideas from Tels AIFilter and his Html::Parser module, which is
    originally a work of Gisle Aas
  * webcleanerconf: new GUI config tool
  * compatibility layer for the new SAX-2 and DOM-2 interfaces found in
    PyXML >= 0.6

 -- Bastian Kleineidam <calvin@users.sourceforge.net>  Fri, 17 Nov 2000 20:11:41 +0100

webcleaner (0.5) unstable; urgency=low

  * config files for filters
  * added microexchange.de to ad filters
  * mime fix: strip parameters from content-type value
  * better error handling
  * parent proxy configuration parameter
  * fixed heise news ad filtering

 -- Bastian Kleineidam <calvin@users.sourceforge.net>  Fri, 13 Oct 2000 01:35:57 +0200

webcleaner (0.4) unstable; urgency=low

  * exceptions were printed on sys.stderr => fixed
  * you can replace subgroups of matches
  * remove URL redirectors
  * implemented REPLACE_ATTRIBUTE
  * remove unwanted href attributes

 -- Bastian Kleineidam <calvin@users.sourceforge.net>  Sun, 17 Sep 2000 22:32:12 +0200

webcleaner (0.3) unstable; urgency=low

  * distribution restructuring
  * socket.IOError -> socket.error
  * a little more ad munching

 -- Bastian Kleineidam <calvin@users.sourceforge.net>  Wed, 13 Sep 2000 13:20:21 +0200

webcleaner (0.2) unstable; urgency=low

  * filter header by regular expression
  * more advertising and CSS removing
  * ignore false GIF version when filtering animated GIFs
  * dont print errors on stdout
  * fixed TagAttrMatcher regular expression
  * implemented Blocker.py
  * include Template.py in dist

 -- Bastian Kleineidam <calvin@users.sourceforge.net>  Fri,  8 Sep 2000 17:45:08 +0200

webcleaner (0.1) unstable; urgency=low

  * Initial Release.

 -- Bastian Kleineidam <calvin@users.sourceforge.net>  Mon, 10 Jul 2000 11:54:11 +0200

Local variables:
mode: debian-changelog
End:
